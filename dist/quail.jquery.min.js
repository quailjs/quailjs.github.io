/*! QUAIL quailjs.org | quailjs.org/license */!function(a){a.fn.quail=function(a){return this.length?(b.options=a,b.html=this,"undefined"!=typeof quailBuilderTests&&"undefined"==typeof b.quailAccessibilityTests&&(b.options.accessibilityTests=window.quailBuilderTests),b.run(),this):this},a.expr[":"].quailCss=function(b,c,d){var e=d[3].split(/\s*=\s*/);return a(b).css(e[0]).search(e[1])>-1};var b={options:{},components:{},testabilityTranslation:{0:"suggestion",.5:"moderate",1:"severe"},html:{},strings:{},accessibilityResults:{},accessibilityTests:{},textSelector:"p, h1, h2, h3, h4, h5, h6, div, pre, blockquote, aside, article, details, summary, figcaption, footer, header, hgroup, nav, section, strong, em, del, i, b",suspectPHeaderTags:["strong","b","em","i","u","font"],suspectPCSSStyles:["color","font-weight","font-size","font-family"],focusElements:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",textDirection:{rtl:/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,ltr:/[\u0041-\u007A]|[\u00C0-\u02AF]|[\u0388-\u058F]/gm},run:function(){if(b.options.reset&&(b.accessibilityResults={}),"undefined"!=typeof b.options.accessibilityTests?b.accessibilityTests=b.options.accessibilityTests:a.ajax({url:b.options.jsonPath+"/tests.json",async:!1,dataType:"json",success:function(a){"object"==typeof a&&(b.accessibilityTests=a)}}),"undefined"!=typeof b.options.customTests)for(var c in b.options.customTests)b.accessibilityTests[c]=b.options.customTests[c];if("string"==typeof b.options.guideline&&a.ajax({url:b.options.jsonPath+"/guidelines/"+b.options.guideline+".tests.json",async:!1,dataType:"json",success:function(a){b.options.guideline=a}}),"undefined"==typeof b.options.guideline){b.options.guideline=[];for(var d in b.accessibilityTests)b.options.guideline.push(d)}if(b.runTests(),"undefined"!=typeof b.options.complete){var e={totals:{severe:0,moderate:0,suggestion:0},results:b.accessibilityResults};a.each(e.results,function(a,c){e.totals[b.testabilityTranslation[b.accessibilityTests[a].testability]]+=c.elements.length}),b.options.complete(e)}},getConfiguration:function(a){return"undefined"==typeof this.options.guidelineName||"undefined"==typeof this.accessibilityTests[a].guidelines||"undefined"==typeof this.accessibilityTests[a].guidelines[this.options.guidelineName]||"undefined"==typeof this.accessibilityTests[a].guidelines[this.options.guidelineName].configuration?!1:this.accessibilityTests[a].guidelines[this.options.guidelineName].configuration},testFails:function(a,c,d){if(d=d||{},("undefined"==typeof b.options.preFilter||b.options.preFilter(a,c,d)!==!1)&&(b.accessibilityResults[a].elements.push(c),"undefined"!=typeof b.options.testFailed)){var e="undefined"!=typeof b.accessibilityTests[a].testability?b.accessibilityTests[a].testability:"unknown";b.options.testFailed({element:c,testName:a,test:b.accessibilityTests[a],testability:e,severity:b.testabilityTranslation[e],options:d})}},runTests:function(){a.each(b.options.guideline,function(c,d){if("undefined"!=typeof b.accessibilityTests[d]){var e=b.accessibilityTests[d].type;"undefined"==typeof b.accessibilityTests[d].options&&(b.accessibilityTests[d].options={}),"undefined"==typeof b.accessibilityResults[d]&&(b.accessibilityResults[d]={test:b.accessibilityTests[d],elements:[]}),"selector"===e&&b.html.find(b.accessibilityTests[d].options.selector).each(function(){b.testFails(d,a(this))}),"custom"===e&&("object"==typeof b.accessibilityTests[d].callback||"function"==typeof b.accessibilityTests[d].callback?b.accessibilityTests[d].callback(b):"undefined"!=typeof b[b.accessibilityTests[d].callback]&&b[b.accessibilityTests[d].callback]()),"undefined"!=typeof b.components[e]&&b.components[e](d,b.accessibilityTests[d])}})},isUnreadable:function(a){return"string"!=typeof a?!0:a.trim().length?!1:!0},isDataTable:function(b){if(b.find("tr").length<3)return!1;if(b.find("th[scope]").length)return!0;var c=b.find("tr:has(td)").length,d=b.find("td[rowspan], td[colspan]"),e=!0;if(d.length){var f={};d.each(function(){"undefined"==typeof f[a(this).index()]&&(f[a(this).index()]=0),f[a(this).index()]++}),a.each(f,function(a,b){c>b&&(e=!1)})}var g=b.find("table");if(g.length){var h={};g.each(function(){var b=a(this).parent("td").index();b!==!1&&"undefined"==typeof h[b]&&(h[b]=0),h[b]++}),a.each(h,function(a,b){c>b&&(e=!1)})}return e},validURL:function(a){return-1===a.search(" ")?!0:!1},cleanString:function(a){return a.toLowerCase().replace(/^\s\s*/,"")},containsReadableText:function(c,d){if(c=c.clone(),c.find("option").remove(),!b.isUnreadable(c.text()))return!0;if(!b.isUnreadable(c.attr("alt")))return!0;if(d){var e=!1;if(c.find("*").each(function(){b.containsReadableText(a(this),!0)&&(e=!0)}),e)return!0}return!1}};if(b.components.acronym=function(c){var d={},e={};b.html.find("acronym[title], abbr[title]").each(function(){d[a(this).text().toUpperCase()]=a(this).attr("title")}),b.html.find("p, div, h1, h2, h3, h4, h5").each(function(){var f=a(this),g=a(this).text().split(" ");g.length>1&&a(this).text().toUpperCase()!==a(this).text()&&a.each(g,function(a,g){g=g.replace(/[^a-zA-Zs]/,""),g.toUpperCase()===g&&g.length>1&&"undefined"==typeof d[g.toUpperCase()]&&("undefined"==typeof e[g.toUpperCase()]&&b.testFails(c,f,{acronym:g.toUpperCase()}),e[g.toUpperCase()]=g)})})},b.components.color=function(c,d){if(d.options.bodyForegroundAttribute&&d.options.bodyBackgroundAttribute){var e=b.html.find("body").clone(!1,!1),f=e.attr(d.options.bodyForegroundAttribute),g=e.attr(d.options.bodyBackgroundAttribute);"undefined"==typeof f&&(f="rgb(0,0,0)"),"undefined"==typeof g&&(f="rgb(255,255,255)"),e.css("color",f),e.css("background-color",g),("wcag"===d.options.algorithm&&!b.colors.passesWCAG(e)||"wai"===d.options.algorithm&&!b.colors.passesWAI(e))&&b.testFails(c,e)}b.html.find(d.options.selector).filter(b.textSelector).each(function(){(!b.isUnreadable(a(this).text())&&"wcag"===d.options.algorithm&&!b.colors.passesWCAG(a(this))||"wai"===d.options.algorithm&&!b.colors.passesWAI(a(this)))&&b.testFails(c,a(this))})},b.colors={getLuminosity:function(a,b){a=this.cleanup(a),b=this.cleanup(b);var c,d,e=a.r/255,f=a.g/255,g=a.b/255,h=.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4),i=.03928>=f?f/12.92:Math.pow((f+.055)/1.055,2.4),j=.03928>=g?g/12.92:Math.pow((g+.055)/1.055,2.4),k=b.r/255,l=b.g/255,m=b.b/255,n=.03928>=k?k/12.92:Math.pow((k+.055)/1.055,2.4),o=.03928>=l?l/12.92:Math.pow((l+.055)/1.055,2.4),p=.03928>=m?m/12.92:Math.pow((m+.055)/1.055,2.4);return c=.2126*h+.7152*i+.0722*j,d=.2126*n+.7152*o+.0722*p,Math.round((Math.max(c,d)+.05)/(Math.min(c,d)+.05)*10)/10},fetchImageColor:function(){var b=new Image,c=a(this).css("background-image").replace("url(","").replace(/'/,"").replace(")","");b.src=c;var d=document.createElement("canvas"),e=d.getContext("2d");e.drawImage(b,0,0);var f=e.getImageData(0,0,1,1).data;return"rgb("+f[0]+","+f[1]+","+f[2]+")"},passesWCAG:function(a,c){return"undefined"==typeof c&&(c=5),b.colors.getLuminosity(b.colors.getColor(a,"foreground"),b.colors.getColor(a,"background"))>c},passesWAI:function(a){var c=b.colors.cleanup(b.colors.getColor(a,"foreground")),d=b.colors.cleanup(b.colors.getColor(a,"background"));return b.colors.getWAIErtContrast(c,d)>500&&b.colors.getWAIErtBrightness(c,d)>125},getWAIErtContrast:function(a,c){var d=b.colors.getWAIDiffs(a,c);return d.red+d.green+d.blue},getWAIErtBrightness:function(a,c){var d=b.colors.getWAIDiffs(a,c);return(299*d.red+587*d.green+114*d.blue)/1e3},getWAIDiffs:function(a,b){var c={};return c.red=Math.abs(a.r-b.r),c.green=Math.abs(a.g-b.g),c.blue=Math.abs(a.b-b.b),c},getColor:function(b,c){if("foreground"===c)return b.css("color")?b.css("color"):"rgb(255,255,255)";if("rgba(0, 0, 0, 0)"!==b.css("background-color")&&"transparent"!==b.css("background-color")||"body"===b.get(0).tagName)return b.css("background-color")?b.css("background-color"):"rgb(0,0,0)";var d="rgb(0,0,0)";return b.parents().each(function(){return"rgba(0, 0, 0, 0)"!==a(this).css("background-color")&&"transparent"!==a(this).css("background-color")?(d=a(this).css("background-color"),!1):void 0}),d},cleanup:function(a){return a=a.replace("rgb(","").replace("rgba(","").replace(")","").split(","),{r:a[0],g:a[1],b:a[2],a:"undefined"==typeof a[3]?!1:a[3]}}},b.components.convertToPx=function(c){if(c.search("px")>-1)return parseInt(c,10);var d=a('<div style="display: none; font-size: 1em; margin: 0; padding:0; height: '+c+'; line-height: 1; border:0;">&nbsp;</div>').appendTo(b.html),e=d.height();return d.remove(),e},b.components.event=function(c,d){var e="undefined"==typeof d.options.selector?b.html.find("*"):b.html.find(d.options.selector);e.each(function(){!b.components.hasEventListener(a(this),d.options.searchEvent.replace("on",""))||"undefined"!=typeof d.options.correspondingEvent&&b.components.hasEventListener(a(this),d.options.correspondingEvent.replace("on",""))||b.testFails(c,a(this))})},b.components.hasEventListener=function(b,c){return"undefined"!=typeof a(b).attr("on"+c)?!0:"undefined"!=typeof a(b).get(0)[c]},b.components.headingLevel=function(c,d){var e=!1;b.html.find(":header").each(function(){var f=parseInt(a(this).get(0).tagName.substr(-1,1),10);e===d.options.headingLevel&&f>e+1&&b.testFails(c,a(this)),e=f})},b.components.htmlSource={getHtml:function(c){var d=this;if("undefined"!=typeof b.options.htmlSource&&b.options.htmlSource)return c(b.options.htmlSource,d.parseHtml(b.options.htmlSource)),void 0;var e=a.ajax({url:window.location.href,async:!1});e&&"undefined"!=typeof e.responseText&&c(e.responseText,d.parseHtml(e.responseText))},traverse:function(b,c,d,e){var f=this;"undefined"==typeof e&&c(b,d,!1),"undefined"!=typeof b.children&&(b.childCount=1,a.each(b.children,function(a,d){c(d,b.childCount,b),f.traverse(d,c,b.childCount,!0),"tag"===d.type&&b.childCount++})),a.isArray(b)&&a.each(b,function(a,b){f.traverse(b,c)})},addSelector:function(a,b,c){if("tag"===a.type&&"undefined"!=typeof a.name&&"undefined"==typeof a.selector){a.selector=c&&"undefined"!=typeof c.selector?c.selector.slice():[];var d=a.name;return"undefined"!=typeof a.attributes&&("undefined"!=typeof a.attributes.id?d+="#"+a.attributes.id[0]:"undefined"!=typeof a.attributes.class&&(d+="."+a.attributes.class[0].replace(/\s/,"."))),b&&(d+=":nth-child("+b+")"),a.selector.push(d),a.selector}},parseHtml:function(a){if("undefined"==typeof Tautologistics)return!1;a=a.replace(/<!doctype ([^>]*)>/g,"");var b=new Tautologistics.NodeHtmlParser.HtmlBuilder(function(){},{}),c=new Tautologistics.NodeHtmlParser.Parser(b);c.parseComplete(a);var d=b.dom,e=this;return this.traverse(d,e.addSelector),d}},"undefined"!=typeof Tautologistics){var c={Text:"text",Tag:"tag",Attr:"attr",CData:"cdata",Comment:"comment"};Tautologistics.NodeHtmlParser.HtmlBuilder.prototype.write=function(a){if(this._done&&this.handleCallback(new Error("Writing to the builder after done() called is not allowed without a reset()")),this._options.includeLocation&&a.type!==c.Attr&&(a.location=this._getLocation(),this._updateLocation(a)),a.type!==c.Text||!this._options.ignoreWhitespace||!HtmlBuilder.reWhitespace.test(a.data)){var b,d;if(this._tagStack.last())if(a.type===c.Tag)if("/"===a.name.charAt(0)){var e=this._options.caseSensitiveTags?a.name.substring(1):a.name.substring(1).toLowerCase();if(!this.isEmptyTag(a)){for(var f=this._tagStack.length-1;f>-1&&this._tagStack[f--].name!==e;);if(f>-1||this._tagStack[0].name===e)for(;f<this._tagStack.length-1;)this._tagStack.pop()}}else b=this._tagStack.last(),a.type===c.Attr?(b.attributes||(b.attributes={}),"undefined"==typeof b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]&&(b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]=[]),b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()].push(a.data)):(d=this._copyElement(a),b.children||(b.children=[]),b.children.push(d),this.isEmptyTag(d)||this._tagStack.push(d),a.type===c.Tag&&(this._lastTag=d));else b=this._tagStack.last(),a.type===c.Attr?(b.attributes||(b.attributes={}),"undefined"==typeof b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]&&(b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]=[]),b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()].push(a.data)):(b.children||(b.children=[]),b.children.push(this._copyElement(a)));else a.type===c.Tag?"/"!==a.name.charAt(0)&&(d=this._copyElement(a),this.dom.push(d),this.isEmptyTag(d)||this._tagStack.push(d),this._lastTag=d):a.type===c.Attr&&this._lastTag?(this._lastTag.attributes||(this._lastTag.attributes={}),"undefined"==typeof this._lastTag.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]&&(this._lastTag.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]=[]),this._lastTag.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()].push(a.data)):this.dom.push(this._copyElement(a))}}}b.components.label=function(c,d){b.html.find(d.options.selector).each(function(){a(this).parent("label").length&&b.containsReadableText(a(this).parent("label"))||b.html.find("label[for="+a(this).attr("id")+"]").length&&b.containsReadableText(b.html.find("label[for="+a(this).attr("id")+"]"))||b.testFails(c,a(this))})},b.components.labelProximity=function(c,d){b.html.find(d.options.selector).each(function(){var d=b.html.find("label[for="+a(this).attr("id")+"]").first();d.length||b.testFails(c,a(this)),a(this).parent().is(d.parent())||b.testFails(c,a(this))})},b.components.placeholder=function(c,d){b.html.find(d.options.selector).each(function(){var e="";if("undefined"!=typeof d.options.attribute){if(("undefined"==typeof a(this).attr(d.options.attribute)||"tabindex"===d.options.attribute&&a(this).attr(d.options.attribute)<=0)&&!d.options.content)return b.testFails(c,a(this)),void 0;a(this).attr(d.options.attribute)&&"undefined"!==a(this).attr(d.options.attribute)&&(e+=a(this).attr(d.options.attribute))}if(("undefined"==typeof d.options.attribute||!d.options.attribute||d.options.content)&&(e+=a(this).text(),a(this).find("img[alt]").each(function(){e+=a(this).attr("alt")})),"string"==typeof e&&e.length>0){e=b.cleanString(e);var f=/^([0-9]*)(k|kb|mb|k bytes|k byte)$/g,g=f.exec(e.toLowerCase());g&&g[0].length?b.testFails(c,a(this)):d.options.empty&&b.isUnreadable(e)?b.testFails(c,a(this)):b.strings.placeholders.indexOf(e)>-1&&b.testFails(c,a(this))}else d.options.empty&&"number"!=typeof e&&b.testFails(c,a(this))})},b.statistics={setDecimal:function(a,b){var c=Math.pow(10,b||0);return b?Math.round(c*a)/c:a},average:function(a,c){for(var d=a.length,e=0;d--;)e+=a[d];return b.statistics.setDecimal(e/a.length,c)},variance:function(a,c){for(var d=b.statistics.average(a,c),e=a.length,f=0;e--;)f+=Math.pow(a[e]-d,2);return f/=a.length,b.statistics.setDecimal(f,c)},standardDeviation:function(a,c){var d=Math.sqrt(b.statistics.variance(a,c));return b.statistics.setDecimal(d,c)}},b.components.textStatistics={cleanText:function(a){return a.replace(/[,:;()\-]/," ").replace(/[\.!?]/,".").replace(/[ ]*(\n|\r\n|\r)[ ]*/," ").replace(/([\.])[\. ]+/,"$1").replace(/[ ]*([\.])/,"$1").replace(/[ ]+/," ").toLowerCase()},sentenceCount:function(a){var b=a;return b.split(".").length+1},wordCount:function(a){var b=a;return b.split(" ").length+1},averageWordsPerSentence:function(a){return this.wordCount(a)/this.sentenceCount(a)},averageSyllablesPerWord:function(b){var c=this,d=0,e=c.wordCount(b);return e?(a.each(b.split(" "),function(a,b){d+=c.syllableCount(b)}),d/e):0},syllableCount:function(a){var b=a.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/,"").match(/[aeiouy]{1,2}/g);return b&&0!==b.length?b.length:1}},b.components.video={youTube:{videoID:"",apiUrl:"http://gdata.youtube.com/feeds/api/videos/?q=%video&caption&v=2&alt=json",isVideo:function(a){var b=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,c=a.match(b);return c&&11===c[7].length?(this.videoID=c[7],!0):!1},hasCaptions:function(b){a.ajax({url:this.apiUrl.replace("%video",this.videoID),async:!1,dataType:"json",success:function(a){b(a.feed.openSearch$totalResults.$t>0?!0:!1)}})}}},b.strings.colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},b.strings.emoticons=[":)",";)",":-)",":^)","=)","B)","8)","c8","cB","=]",":]","x]",":-)",":)",":o)","=]",":-D",":D","=D",":-(",":(","=(",":/",":P",":o"],b.strings.languageCodes=["bh","bi","nb","bs","br","bg","my","es","ca","km","ch","ce","ny","ny","zh","za","cu","cu","cv","kw","co","cr","hr","cs","da","dv","dv","nl","dz","en","eo","et","ee","fo","fj","fi","nl","fr","ff","gd","gl","lg","ka","de","ki","el","kl","gn","gu","ht","ht","ha","he","hz","hi","ho","hu","is","io","ig","id","ia","ie","iu","ik","ga","it","ja","jv","kl","kn","kr","ks","kk","ki","rw","ky","kv","kg","ko","kj","ku","kj","ky","lo","la","lv","lb","li","li","li","ln","lt","lu","lb","mk","mg","ms","ml","dv","mt","gv","mi","mr","mh","ro","ro","mn","na","nv","nv","nd","nr","ng","ne","nd","se","no","nb","nn","ii","ny","nn","ie","oc","oj","cu","cu","cu","or","om","os","os","pi","pa","ps","fa","pl","pt","pa","ps","qu","ro","rm","rn","ru","sm","sg","sa","sc","gd","sr","sn","ii","sd","si","si","sk","sl","so","st","nr","es","su","sw","ss","sv","tl","ty","tg","ta","tt","te","th","bo","ti","to","ts","tn","tr","tk","tw","ug","uk","ur","ug","uz","ca","ve","vi","vo","wa","cy","fy","wo","xh","yi","yo","za","zu"],b.strings.placeholders=["title","untitled","untitled document","this is the title","the title","content"," ","new page","new","nbsp","&nbsp;","spacer","image","img","photo","frame","frame title","iframe","iframe title","legend"],b.strings.redundant={inputImage:["submit","button"],link:["link to","link","go to","click here","link","click","more"],required:["*"]},b.strings.siteMap=["site map","map","sitemap"],b.strings.suspiciousLinks=["click here","click","more","here","read more","download","add","delete","clone","order","view","read","clic aqu&iacute;","clic","haga clic","m&aacute;s","aqu&iacute;","image"],b.strings.symbols=["|","*",/\*/g,"<br>*","&bull;","&#8226"],b.aAdjacentWithSameResourceShouldBeCombined=function(){b.html.find("a").each(function(){a(this).next("a").attr("href")===a(this).attr("href")&&b.testFails("aAdjacentWithSameResourceShouldBeCombined",a(this))})},b.aImgAltNotRepetative=function(){b.html.find("a img[alt]").each(function(){b.cleanString(a(this).attr("alt"))===b.cleanString(a(this).parent("a").text())&&b.testFails("aImgAltNotRepetative",a(this).parent("a"))})},b.aLinkTextDoesNotBeginWithRedundantWord=function(){b.html.find("a").each(function(){var c=a(this),d="";a(this).find("img[alt]").length&&(d+=a(this).find("img[alt]:first").attr("alt")),d+=a(this).text(),d=d.toLowerCase(),a.each(b.strings.redundant.link,function(a,e){d.search(e)>-1&&b.testFails("aLinkTextDoesNotBeginWithRedundantWord",c)})})},b.aLinkWithNonText=function(){b.html.find("a:has(img, object, embed)").each(function(){if(b.isUnreadable(a(this).text())){var c=0;a(this).find("img, object, embed").each(function(){(a(this).is("img")&&b.isUnreadable(a(this).attr("alt"))||!a(this).is("img")&&b.isUnreadable(a(this).attr("title")))&&c++}),a(this).find("img, object, embed").length===c&&b.testFails("aLinkWithNonText",a(this))}})},b.aLinksAreSeperatedByPrintableCharacters=function(){b.html.find("a").each(function(){a(this).next("a").length&&b.isUnreadable(a(this).get(0).nextSibling.wholeText)&&b.testFails("aLinksAreSeperatedByPrintableCharacters",a(this))})},b.aLinksNotSeparatedBySymbols=function(){b.html.find("a").each(function(){a(this).next("a").length&&-1!==b.strings.symbols.indexOf(a(this).get(0).nextSibling.wholeText.toLowerCase().trim())&&b.testFails("aLinksNotSeparatedBySymbols",a(this))})},b.aMustContainText=function(){b.html.find("a").each(function(){b.containsReadableText(a(this),!0)||(a(this).attr("name")||a(this).attr("id"))&&!a(this).attr("href")||b.testFails("aMustContainText",a(this))})},b.aSuspiciousLinkText=function(){b.html.find("a").each(function(){var c=a(this).text();a(this).find("img[alt]").each(function(){c+=a(this).attr("alt")}),b.strings.suspiciousLinks.indexOf(b.cleanString(c))>-1&&b.testFails("aSuspiciousLinkText",a(this))})},b.appletContainsTextEquivalent=function(){b.html.find("applet[alt=], applet:not(applet[alt])").each(function(){b.isUnreadable(a(this).text())&&b.testFails("appletContainsTextEquivalent",a(this))})},b.blockquoteUseForQuotations=function(){b.html.find("p").each(function(){a(this).text().substr(0,1).search(/[\'\"]/)>-1&&a(this).text().substr(-1,1).search(/[\'\"]/)>-1&&b.testFails("blockquoteUseForQuotations",a(this))})},b.doctypeProvided=function(){0===a(b.html.get(0).doctype).length&&b.testFails("doctypeProvided",b.html.find("html"))},b.documentAbbrIsUsed=function(){b.components.acronym("documentAbbrIsUsed","abbr")},b.documentAcronymsHaveElement=function(){b.components.acronym("documentAcronymsHaveElement","acronym")},b.documentIDsMustBeUnique=function(){var c=[];b.html.find("*[id]").each(function(){c.indexOf(a(this).attr("id"))>=0&&b.testFails("documentIDsMustBeUnique",a(this)),c.push(a(this).attr("id"))})},b.documentIsWrittenClearly=function(){b.html.find(b.textSelector).each(function(){var c=b.components.textStatistics.cleanText(a(this).text());Math.round(206.835-1.015*b.components.textStatistics.averageWordsPerSentence(c)-84.6*b.components.textStatistics.averageSyllablesPerWord(c))<60&&b.testFails("documentIsWrittenClearly",a(this))})},b.documentLangIsISO639Standard=function(){var a=b.html.find("html").attr("lang");a&&-1===b.strings.languageCodes.indexOf(a)&&b.testFails("documentLangIsISO639Standard",b.html.find("html"))},b.documentStrictDocType=function(){a(b.html.get(0).doctype).length&&-1!==b.html.get(0).doctype.systemId.indexOf("strict")||b.testFails("documentStrictDocType",b.html.find("html"))},b.documentTitleIsShort=function(){b.html.find("head title:first").text().length>150&&b.testFails("documentTitleIsShort",b.html.find("head title:first"))},b.documentValidatesToDocType=function(){"undefined"==typeof document.doctype},b.documentVisualListsAreMarkedUp=function(){b.html.find("p, div, h1, h2, h3, h4, h5, h6").each(function(){var c=a(this);a.each(b.strings.symbols,function(a,d){c.text().split(d).length>2&&b.testFails("documentVisualListsAreMarkedUp",c)})})},b.elementsDoNotHaveDuplicateAttributes=function(){b.components.htmlSource.getHtml(function(c,d){d&&b.components.htmlSource.traverse(d,function(c){if("tag"===c.type){var d=c.selector.join(">");a.contains(b.html.get(0),a(d).get(0))&&"undefined"!=typeof c.attributes&&a.each(c.attributes,function(c,e){e.length>1&&b.testFails("elementsDoNotHaveDuplicateAttributes",a(d).first(),{attribute:c})})}})})},b.embedHasAssociatedNoEmbed=function(){b.html.find("noembed").length||b.html.find("embed").each(function(){b.testFails("embedHasAssociatedNoEmbed",a(this))})},b.emoticonsExcessiveUse=function(){var c=0;b.html.find("p, div, h1, h2, h3, h4, h5, h6").each(function(){var d=a(this);a.each(d.text().split(" "),function(a,d){b.strings.emoticons.indexOf(d)>-1&&c++,c>4}),c>4&&b.testFails("emoticonsExcessiveUse",d)})},b.emoticonsMissingAbbr=function(){b.html.find("p, div, h1, h2, h3, h4, h5, h6").each(function(){var c=a(this),d=c.clone();d.find("abbr, acronym").each(function(){a(this).remove()}),a.each(d.text().split(" "),function(a,d){b.strings.emoticons.indexOf(d)>-1&&b.testFails("emoticonsMissingAbbr",c)})})},b.focusIndicatorVisible=function(){b.html.find(b.focusElements).each(function(){var c={borderWidth:a(this).css("border-width"),borderColor:a(this).css("border-color"),backgroundColor:a(this).css("background-color"),boxShadow:a(this).css("box-shadow")};if(a(this).focus(),c.backgroundColor!==a(this).css("background-color"))return a(this).blur(),void 0;var d=b.components.convertToPx(a(this).css("border-width"));if(d>2&&d!==b.components.convertToPx(c.borderWidth))return a(this).blur(),void 0;var e=a(this).css("box-shadow")&&"none"!==a(this).css("box-shadow")?a(this).css("box-shadow").match(/(-?\d+px)|(rgb\(.+\))/g):!1;return e&&a(this).css("box-shadow")!==c.boxShadow&&b.components.convertToPx(e[3])>3?(a(this).blur(),void 0):(a(this).blur(),b.testFails("focusIndicatorVisible",a(this)),void 0)})},b.formWithRequiredLabel=function(){var c,d=b.strings.redundant,e=!1;d.required[d.required.indexOf("*")]=/\*/g,b.html.find("label").each(function(){var f=a(this).text().toLowerCase(),g=a(this);a.each(d.required,function(a,c){f.search(c)>=0&&!b.html.find("#"+g.attr("for")).attr("aria-required")&&b.testFails("formWithRequiredLabel",g)}),e=g.css("color")+g.css("font-weight")+g.css("background-color"),c&&e!==c&&b.testFails("formWithRequiredLabel",g),c=e})},b.headersUseToMarkSections=function(){b.html.find("p").each(function(){var c=a(this);c.find("strong:first, em:first, i:first, b:first").each(function(){c.text()===a(this).text()&&b.testFails("headersUseToMarkSections",c)})})},b.imgAltIsDifferent=function(){b.html.find("img[alt][src]").each(function(){(a(this).attr("src")===a(this).attr("alt")||a(this).attr("src").split("/").pop()===a(this).attr("alt"))&&b.testFails("imgAltIsDifferent",a(this))})},b.imgAltIsTooLong=function(){b.html.find("img[alt]").each(function(){a(this).attr("alt").length>100&&b.testFails("imgAltIsTooLong",a(this))})},b.imgAltNotEmptyInAnchor=function(){b.html.find("a img").each(function(){b.isUnreadable(a(this).attr("alt"))&&b.isUnreadable(a(this).parent("a:first").text())&&b.testFails("imgAltNotEmptyInAnchor",a(this))})},b.imgAltTextNotRedundant=function(){var c={};b.html.find("img[alt]").each(function(){"undefined"==typeof c[a(this).attr("alt")]?c[a(this).attr("alt")]=a(this).attr("src"):c[a(this).attr("alt")]!==a(this).attr("src")&&b.testFails("imgAltTextNotRedundant",a(this))})},b.imgGifNoFlicker=function(){b.html.find('img[src$=".gif"]').each(function(){var c=a(this);a.ajax({url:c.attr("src"),async:!1,dataType:"text",success:function(a){-1!==a.search("NETSCAPE2.0")&&b.testFails("imgGifNoFlicker",c)}})})},b.imgHasLongDesc=function(){b.html.find("img[longdesc]").each(function(){a(this).attr("longdesc")!==a(this).attr("alt")&&b.validURL(a(this).attr("longdesc"))||b.testFails("imgHasLongDesc",a(this))})},b.imgImportantNoSpacerAlt=function(){b.html.find("img[alt]").each(function(){var c=a(this).width()?a(this).width():parseInt(a(this).attr("width"),10),d=a(this).height()?a(this).height():parseInt(a(this).attr("height"),10);b.isUnreadable(a(this).attr("alt").trim())&&a(this).attr("alt").length>0&&c>50&&d>50&&b.testFails("imgImportantNoSpacerAlt",a(this))})},b.imgMapAreasHaveDuplicateLink=function(){var c={};b.html.find("a").each(function(){c[a(this).attr("href")]=a(this).attr("href")}),b.html.find("img[usemap]").each(function(){var d=a(this),e=b.html.find(d.attr("usemap"));e.length||(e=b.html.find('map[name="'+d.attr("usemap").replace("#","")+'"]')),e.length&&e.find("area").each(function(){"undefined"==typeof c[a(this).attr("href")]&&b.testFails("imgMapAreasHaveDuplicateLink",d)})})},b.imgNonDecorativeHasAlt=function(){b.html.find("img[alt]").each(function(){b.isUnreadable(a(this).attr("alt"))&&(a(this).width()>100||a(this).height()>100)&&b.testFails("imgNonDecorativeHasAlt",a(this))})},b.imgWithMathShouldHaveMathEquivalent=function(){b.html.find("img:not(img:has(math), img:has(tagName))").each(function(){a(this).parent().find("math").length||b.testFails("imgWithMathShouldHaveMathEquivalent",a(this))})},b.inputCheckboxRequiresFieldset=function(){b.html.find(":checkbox").each(function(){a(this).parents("fieldset").length||b.testFails("inputCheckboxRequiresFieldset",a(this))})},b.inputImageAltIsNotFileName=function(){b.html.find("input[type=image][alt]").each(function(){a(this).attr("src")===a(this).attr("alt")&&b.testFails("inputImageAltIsNotFileName",a(this))})},b.inputImageAltIsShort=function(){b.html.find("input[type=image]").each(function(){a(this).attr("alt").length>100&&b.testFails("inputImageAltIsShort",a(this))})},b.inputImageAltNotRedundant=function(){b.html.find("input[type=image][alt]").each(function(){b.strings.redundant.inputImage.indexOf(b.cleanString(a(this).attr("alt")))>-1&&b.testFails("inputImageAltNotRedundant",a(this))})},b.inputWithoutLabelHasTitle=function(){b.html.find("input, select, textarea").each(function(){a(this).parent("label").length||b.html.find("label[for="+a(this).attr("id")+"]").length||a(this).attr("title")&&!b.isUnreadable(a(this).attr("title"))||b.testFails("inputWithoutLabelHasTitle",a(this))})},b.labelMustBeUnique=function(){var c={};b.html.find("label[for]").each(function(){"undefined"!=typeof c[a(this).attr("for")]&&b.testFails("labelMustBeUnique",a(this)),c[a(this).attr("for")]=a(this).attr("for")})},b.labelsAreAssignedToAnInput=function(){b.html.find("label").each(function(){a(this).attr("for")?b.html.find("#"+a(this).attr("for")).length&&b.html.find("#"+a(this).attr("for")).is("input, select, textarea")||b.testFails("labelsAreAssignedToAnInput",a(this)):b.testFails("labelsAreAssignedToAnInput",a(this))})},b.languageDirAttributeIsUsed=function(){var c=b.html.attr("dir")?b.html.attr("dir").toLowerCase():"ltr",d="ltr"===c?"rtl":"ltr";b.html.find("p, blockquote, aside, h1, h2, h3, h4, h5, h6").each(function(){c=a(this).attr("dir")?a(this).attr("dir").toLowerCase():a(this).parent("[dir]").first().attr("dir")?a(this).parent("[dir]").first().attr("dir").toLowerCase():c,"undefined"==typeof b.textDirection[c]&&(c="ltr"),d="ltr"===c?"rtl":"ltr";
var e=a(this).text().match(b.textDirection[d]);e&&(e=e.length,a(this).find("[dir="+d+"]").each(function(){var c=a(this).text().match(b.textDirection[d]);c&&(e-=c.length)}),e>0&&b.testFails("languageDirAttributeIsUsed",a(this)))})},b.listNotUsedForFormatting=function(){b.html.find("ol, ul").each(function(){a(this).find("li").length<2&&b.testFails("listNotUsedForFormatting",a(this))})},b.pNotUsedAsHeader=function(){var c={};b.html.find("p").each(function(){if(a(this).text().search(".")<1){var d=a(this);a.each(b.suspectPHeaderTags,function(c,e){d.find(e).length&&d.find(e).each(function(){a(this).text().trim()===d.text().trim()&&b.testFails("pNotUsedAsHeader",d)})}),a.each(b.suspectPCSSStyles,function(a,e){"undefined"!=typeof c[e]&&c[e]!==d.css(e)&&b.testFails("pNotUsedAsHeader",d),c[e]=d.css(e)}),"bold"===d.css("font-weight")&&b.testFails("pNotUsedAsHeader",d)}})},b.paragarphIsWrittenClearly=function(){b.html.find("p").each(function(){var c=b.components.textStatistics.cleanText(a(this).text());Math.round(206.835-1.015*b.components.textStatistics.averageWordsPerSentence(c)-84.6*b.components.textStatistics.averageSyllablesPerWord(c))<60&&b.testFails("paragarphIsWrittenClearly",a(this))})},b.preShouldNotBeUsedForTabularLayout=function(){b.html.find("pre").each(function(){var c=a(this).text().split(/[\n\r]+/);c.length>1&&a(this).text().search(/\t/)>-1&&b.testFails("preShouldNotBeUsedForTabularLayout",a(this))})},b.selectJumpMenu=function(){0!==b.html.find("select").length&&b.html.find("select").each(function(){0===a(this).parent("form").find(":submit").length&&b.components.hasEventListener(a(this),"change")&&b.testFails("selectJumpMenu",a(this))})},b.siteMap=function(){var c=!0;b.html.find("a").each(function(){var d=a(this).text().toLowerCase();a.each(b.strings.siteMap,function(a,b){return d.search(b)>-1?(c=!1,void 0):void 0}),c===!1}),c&&b.testFails("siteMap",b.html.find("body"))},b.tabIndexFollowsLogicalOrder=function(){var c=0;b.html.find("[tabindex]").each(function(){parseInt(a(this).attr("tabindex"),10)>=0&&parseInt(a(this).attr("tabindex"),10)!==c+1&&b.testFails("tabIndexFollowsLogicalOrder",a(this)),c++})},b.tableHeaderLabelMustBeTerse=function(){b.html.find("th, table tr:first td").each(function(){a(this).text().length>20&&(!a(this).attr("abbr")||a(this).attr("abbr").length>20)&&b.testFails("tableHeaderLabelMustBeTerse",a(this))})},b.tableLayoutDataShouldNotHaveTh=function(){b.html.find("table:has(th)").each(function(){b.isDataTable(a(this))||b.testFails("tableLayoutDataShouldNotHaveTh",a(this))})},b.tableLayoutHasNoCaption=function(){b.html.find("table:has(caption)").each(function(){b.isDataTable(a(this))||b.testFails("tableLayoutHasNoCaption",a(this))})},b.tableLayoutHasNoSummary=function(){b.html.find("table[summary]").each(function(){b.isDataTable(a(this))||b.isUnreadable(a(this).attr("summary"))||b.testFails("tableLayoutHasNoSummary",a(this))})},b.tableLayoutMakesSenseLinearized=function(){b.html.find("table").each(function(){b.isDataTable(a(this))||b.testFails("tableLayoutMakesSenseLinearized",a(this))})},b.tableNotUsedForLayout=function(){b.html.find("table").each(function(){b.isDataTable(a(this))||b.testFails("tableNotUsedForLayout",a(this))})},b.tableSummaryDoesNotDuplicateCaption=function(){b.html.find("table[summary]:has(caption)").each(function(){b.cleanString(a(this).attr("summary"))===b.cleanString(a(this).find("caption:first").text())&&b.testFails("tableSummaryDoesNotDuplicateCaption",a(this))})},b.tableSummaryIsNotTooLong=function(){b.html.find("table[summary]").each(function(){a(this).attr("summary").trim().length>100&&b.testFails("tableSummaryIsNotTooLong",a(this))})},b.tableUseColGroup=function(){b.html.find("table").each(function(){b.isDataTable(a(this))&&!a(this).find("colgroup").length&&b.testFails("tableUseColGroup",a(this))})},b.tableUsesAbbreviationForHeader=function(){b.html.find("th:not(th[abbr])").each(function(){a(this).text().length>20&&b.testFails("tableUsesAbbreviationForHeader",a(this))})},b.tableUsesScopeForRow=function(){b.html.find("table").each(function(){a(this).find("td:first-child").each(function(){var c=a(this).next("td");("bold"===a(this).css("font-weight")&&"bold"!==c.css("font-weight")||a(this).find("strong").length&&!c.find("strong").length)&&b.testFails("tableUsesScopeForRow",a(this))}),a(this).find("td:last-child").each(function(){var c=a(this).prev("td");("bold"===a(this).css("font-weight")&&"bold"!==c.css("font-weight")||a(this).find("strong").length&&!c.find("strong").length)&&b.testFails("tableUsesScopeForRow",a(this))})})},b.tableWithMoreHeadersUseID=function(){b.html.find("table:has(th)").each(function(){var c=a(this),d=0;c.find("tr").each(function(){a(this).find("th").length&&d++,d>1&&!a(this).find("th[id]").length&&b.testFails("tableWithMoreHeadersUseID",c)})})},b.tabularDataIsInTable=function(){b.html.find("pre").each(function(){a(this).html().search("	")>=0&&b.testFails("tabularDataIsInTable",a(this))})},b.textIsNotSmall=function(){b.html.find(b.textSelector).each(function(){var c=a(this).css("font-size");c.search("em")>0&&(c=b.components.convertToPx(c)),c=parseInt(c.replace("px",""),10),10>c&&b.testFails("textIsNotSmall",a(this))})},b.videosEmbeddedOrLinkedNeedCaptions=function(){b.html.find("a").each(function(){var c=a(this);a.each(b.components.video,function(a,d){d.isVideo(c.attr("href"))&&d.hasCaptions(function(a){a||b.testFails("videosEmbeddedOrLinkedNeedCaptions",c)})})})},b.whiteSpaceInWord=function(){var c,d;b.html.find(b.textSelector).each(function(){d=a(this).text()?a(this).text().match(/[^\s\\]/g):!1,c=a(this).text()?a(this).text().match(/[^\s\\]\s[^\s\\]/g):!1,d&&c&&c.length>3&&c.length>=d.length/2-2&&b.testFails("whiteSpaceInWord",a(this))})}}(jQuery);